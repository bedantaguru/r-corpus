<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Text Vectors — as_text • corpus</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">corpus</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/corpus.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/chinese.html">Chinese text handling</a>
    </li>
    <li>
      <a href="../articles/gender.html">Finding gendered words</a>
    </li>
    <li>
      <a href="../articles/textdata.html">Text data in Corpus and other packages</a>
    </li>
    <li>
      <a href="../articles/unicode.html">Unicode: Emoji, accents, and international text</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Text Vectors</h1>
    </div>

    
    <p>Create or test for text objects.</p>
    

    <pre class="usage"><span class='fu'>as_text</span>(<span class='no'>x</span>, <span class='kw'>filter</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>, <span class='kw'>names</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='fu'>is_text</span>(<span class='no'>x</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>object to be coerced or tested.</p></td>
    </tr>
    <tr>
      <th>filter</th>
      <td><p>if non-<code>NULL</code>, a text filter for the converted result.</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>text filter properties to set on the result.</p></td>
    </tr>
    <tr>
      <th>names</th>
      <td><p>if non-<code>NULL</code> character vector of names for
    the converted result.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>corpus_text</code> type is a new data type provided by the <code>corpus</code>
package suitable for processing international (Unicode) text. Text vectors
behave like character vectors (and can be converted to them with the
<code>as.character</code> function). They can be created using the
<code><a href='read_ndjson.html'>read_ndjson</a></code> function or by converting another object using the
<code>as_text</code> function.</p>
<p>All text objects have a <code><a href='text_filter.html'>text_filter</a></code> property specify how to
transform the text into tokens or segment it into sentences.</p>
<p>The default behavior for <code>as_text</code> is to proceed as follows:</p><ol>
<li><p>If <code>x</code> is a <code>character</code> vector, then we create
    a new <code>text</code> vector from <code>x</code>.</p></li>
<li><p>If <code>x</code> is a data frame, then we call <code>as_text</code>
     on <code>x$text</code> if a column named <code>"text"</code> exists in
     the data frame.  If the data frame does not have a column
     named <code>"text"</code>, then we fail with an error message.</p></li>
<li><p>If <code>x</code> is a <code>corpus_text</code> object, then we drop all
     attributes and we set the class to <code>"corpus_text"</code>.</p></li>
<li><p>The default behavior for when none of the above conditions
     are true is to call <code>as.character</code> on the object first,
     preserving the names, and then and call <code>as_text</code> on
     the returned character object.</p></li>
</ol>
    <p>In all cases, when the <code>names</code> is <code>NULL</code>, we set the result
names to <code>names(x)</code> (or <code>rownames(x)</code> for a data frame
argument). When <code>names</code> is a character vector, we set the result names
to this vector of names</p>
<p>Similarly, when <code>filter</code> is <code>NULL</code>, we set the result text
filter to <code><a href='text_filter.html'>text_filter(x)</a></code>. When <code>filter</code> is non-<code>NULL</code>
missing, we set the result text filter to this value. In either case,
if there are additional names arguments, then we override the filter
properties specified by the names of these arguments with the new values
given.</p>
<p>Note that the special handling for the names of the object is different
from the other R conversion functions (<code>as.numeric</code>,
<code>as.character</code>, etc.), which drop the names.
    <code>as_text</code> is generic: you can write methods to handle specific
classes of objects.</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>as_text</code> attempts to coerce its argument to <code>text</code> type and
  set its <code>names</code> and <code>text_filter</code> properties; it strips
  all other attributes.

<code>is_text</code> returns <code>TRUE</code> or <code>FALSE</code> depending on
  whether its argument is of text type or not.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='utf8.html'>as_utf8</a></code>, <code><a href='text_filter.html'>text_filter</a></code>, <code><a href='read_ndjson.html'>read_ndjson</a></code>.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>as_text</span>(<span class='st'>"hello, world!"</span>)</div><div class='output co'>#&gt; [1] "hello, world!"</div><div class='input'><span class='fu'>as_text</span>(<span class='fu'>c</span>(<span class='kw'>a</span> <span class='kw'>=</span> <span class='st'>"goodnight"</span>, <span class='kw'>b</span> <span class='kw'>=</span> <span class='st'>"moon"</span>)) <span class='co'># keeps names</span></div><div class='output co'>#&gt; a "goodnight"
#&gt; b "moon"     </div><div class='input'>
<span class='co'># set a filter property</span>
<span class='fu'>as_text</span>(<span class='fu'>c</span>(<span class='kw'>a</span> <span class='kw'>=</span> <span class='st'>"goodnight"</span>, <span class='kw'>b</span> <span class='kw'>=</span> <span class='st'>"moon"</span>), <span class='kw'>stemmer</span> <span class='kw'>=</span> <span class='st'>"english"</span>)</div><div class='output co'>#&gt; a "goodnight"
#&gt; b "moon"     </div><div class='input'>
<span class='fu'>is_text</span>(<span class='st'>"hello"</span>) <span class='co'># FALSE, "hello" is character, not text</span></div><div class='output co'>#&gt; [1] FALSE</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Patrick O. Perry.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
